"use strict";(self["webpackChunkestiag"]=self["webpackChunkestiag"]||[]).push([[901],{8901:function(a,t,r){r.r(t),r.d(t,{default:function(){return T}});var n=r(3396),s=r(7139),i=r(9242);const e={id:"page-content",class:"header-static"},o={class:"container"},g={class:"row padding-onlytop-md"},u={class:"col-md-12 center"},k=["textContent"],h={class:"row padding-onlytop-md"},d={class:"col-md-12 center"},m=["textContent"],c={class:"row padding-onlytop-sm center"},y=["onClick"],l={class:"row padding-onlybottom-lg center"},j=["onClick"],f={class:"container"},p={class:"row padding-onlytop-lg"},w={class:"col-md-12 center"},C=(0,n._)("div",{class:"testComplete"},"测试完成，正确率",-1);function v(a,t,r,v,b,A){return(0,n.wg)(),(0,n.iD)("div",e,[(0,n.wy)((0,n._)("div",o,[(0,n.wy)((0,n._)("div",g,[(0,n._)("div",u,[(0,n._)("div",null,[(0,n._)("h1",{class:"",textContent:(0,s.zw)(r.options.title)},null,8,k)])])],512),[[i.F8,r.options.title]]),(0,n._)("div",h,[(0,n._)("div",d,[(0,n._)("div",null,[(0,n._)("span",{class:"largeCharacter bold",textContent:(0,s.zw)(a.currentKana[a.kanaForms[0]])},null,8,m)])])]),(0,n._)("div",c,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(a.firstCandidates,((t,r)=>((0,n.wg)(),(0,n.iD)("div",{class:"candidateWrapper bold",key:r},[(0,n._)("div",{class:(0,s.C_)(["candidate",{gray:"gray"==t.status,green:"green"==t.status,red:"red"==t.status,bigGreen:"bigGreen"==t.status}]),onClick:a=>A.confirm(a,t,1)},(0,s.zw)(t[a.kanaForms[1]]),11,y)])))),128))]),(0,n._)("div",l,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(a.secondCandidates,((t,r)=>((0,n.wg)(),(0,n.iD)("div",{class:"candidateWrapper",key:r},[(0,n._)("div",{class:(0,s.C_)(["candidate",{gray:"gray"==t.status,green:"green"==t.status,red:"red"==t.status,bigGreen:"bigGreen"==t.status}]),onClick:a=>A.confirm(a,t,2)},(0,s.zw)(t[a.kanaForms[2]]),11,j)])))),128))])],512),[[i.F8,this.currentTestTime<this.maxTestTime]]),(0,n.wy)((0,n._)("div",f,[(0,n._)("div",p,[(0,n._)("div",w,[C,(0,n._)("div",{class:(0,s.C_)(["testRate bold padding-onlytop-lg",A.testResultClass])},(0,s.zw)((100*a.correctAnswer/a.totalAnswer).toFixed(2))+"%",3),(0,n._)("div",{class:(0,s.C_)(["tryAgain",A.tryAgainBtnClass]),onClick:t[0]||(t[0]=(...a)=>A.tryAgain&&A.tryAgain(...a))},"再来一遍",2)])])],512),[[i.F8,this.currentTestTime>=this.maxTestTime]])])}var b={props:{options:{type:Object,default:{title:"",maxTestTime:""}}},mounted:function(){this.showNext()},watch:{},computed:{testResultClass:function(){var a=this.correctAnswer/this.totalAnswer;return a<.3?"red-text":a<.6?"yellow-text":"green-text"},tryAgainBtnClass:function(){var a=this.correctAnswer/this.totalAnswer;return a<.3?"red":a<.6?"yellow":"green"}},methods:{tryAgain:function(){this.totalAnswer=0,this.correctAnswer=0,this.currentTestTime=0},showNext:function(){this.currentKana=this.randomPick(this.kana),this.largeCharacter=this.currentKana.hiragana,this.randomSort(this.kanaForms),this.generateCandidates(),this.confirmedRowNumber=[]},confirm:function(a,t,r){var n=1==r?this.firstCandidates:this.secondCandidates;if(this.confirmedRowNumber.indexOf(r)<0){var s=!1,i=this.currentKana.hiragana;if(t.hiragana==i)t.status="green",this.totalAnswer++,this.correctAnswer++,s=!0;else{t.status="red";var e=n.filter((function(a){return a.hiragana==i}))[0];e.status="bigGreen",this.totalAnswer++}if(1==this.confirmedRowNumber.length){s?setTimeout(this.showNext,400):setTimeout(this.showNext,2e3),this.currentTestTime++;var o=this.firstCandidates.filter((function(a){return"red"==a.status})).length<1,g=this.secondCandidates.filter((function(a){return"red"==a.status})).length<1;o&&g&&this.$emit("onSuccess")}this.confirmedRowNumber.push(r)}},randomPick:function(a){return a[Math.floor(Math.random()*a.length)]},randomPickIsolate:function(a,t){return this.randomSort(a),a.slice(0,t)},generateCandidates:function(){this.firstCandidates=[],this.secondCandidates=[];var a=this.currentKana;this.firstCandidates=this.randomPickIsolate(this.deepCopy(this.kana).filter((function(t){return t.hiragana!=a.hiragana})),this.candidatesAmount-1),this.secondCandidates=this.randomPickIsolate(this.deepCopy(this.kana).filter((function(t){return t.hiragana!=a.hiragana})),this.candidatesAmount-1),this.firstCandidates.push(this.deepCopy(this.currentKana)),this.secondCandidates.push(this.deepCopy(this.currentKana)),this.randomSort(this.firstCandidates),this.randomSort(this.secondCandidates)},randomSort:function(a){a.sort((function(){return.5-Math.random()}))},deepCopy:function(a){if("object"===typeof a){var t=a instanceof Array?[]:{};for(var r in a)if(a.hasOwnProperty(r)){let n=a[r];t[r]="object"===typeof n?this.deepCopy(n):n}return t}}},data:function(){return{totalAnswer:0,correctAnswer:0,maxTestTime:this.options.maxTestTime||10,currentTestTime:0,confirmedRowNumber:[],currentKana:{},firstCandidates:[],secondCandidates:[],candidatesAmount:5,kanaForms:["hiragana","katakana","romaji"],kana:[{hiragana:"あ",katakana:"ア",romaji:"a",status:"gray"},{hiragana:"い",katakana:"イ",romaji:"i",status:"gray"},{hiragana:"う",katakana:"ウ",romaji:"u",status:"gray"},{hiragana:"え",katakana:"エ",romaji:"e",status:"gray"},{hiragana:"お",katakana:"オ",romaji:"o",status:"gray"},{hiragana:"か",katakana:"カ",romaji:"ka",status:"gray"},{hiragana:"き",katakana:"キ",romaji:"ki",status:"gray"},{hiragana:"く",katakana:"ク",romaji:"ku",status:"gray"},{hiragana:"け",katakana:"ケ",romaji:"ke",status:"gray"},{hiragana:"こ",katakana:"コ",romaji:"ko",status:"gray"},{hiragana:"さ",katakana:"サ",romaji:"sa",status:"gray"},{hiragana:"し",katakana:"シ",romaji:"shi",status:"gray"},{hiragana:"す",katakana:"ス",romaji:"su",status:"gray"},{hiragana:"せ",katakana:"セ",romaji:"se",status:"gray"},{hiragana:"そ",katakana:"ソ",romaji:"so",status:"gray"},{hiragana:"た",katakana:"タ",romaji:"ta",status:"gray"},{hiragana:"ち",katakana:"チ",romaji:"chi",status:"gray"},{hiragana:"つ",katakana:"ツ",romaji:"tsu",status:"gray"},{hiragana:"て",katakana:"テ",romaji:"te",status:"gray"},{hiragana:"と",katakana:"ト",romaji:"to",status:"gray"},{hiragana:"な",katakana:"ナ",romaji:"na",status:"gray"},{hiragana:"に",katakana:"ニ",romaji:"ni",status:"gray"},{hiragana:"ぬ",katakana:"ヌ",romaji:"nu",status:"gray"},{hiragana:"ね",katakana:"ネ",romaji:"ne",status:"gray"},{hiragana:"の",katakana:"ノ",romaji:"no",status:"gray"},{hiragana:"は",katakana:"ハ",romaji:"ha",status:"gray"},{hiragana:"ひ",katakana:"ヒ",romaji:"hi",status:"gray"},{hiragana:"ふ",katakana:"フ",romaji:"fu",status:"gray"},{hiragana:"へ",katakana:"ヘ",romaji:"he",status:"gray"},{hiragana:"ほ",katakana:"ホ",romaji:"ho",status:"gray"},{hiragana:"ま",katakana:"マ",romaji:"ma",status:"gray"},{hiragana:"み",katakana:"ミ",romaji:"mi",status:"gray"},{hiragana:"む",katakana:"ム",romaji:"mu",status:"gray"},{hiragana:"め",katakana:"メ",romaji:"me",status:"gray"},{hiragana:"も",katakana:"モ",romaji:"mo",status:"gray"},{hiragana:"や",katakana:"ヤ",romaji:"ya",status:"gray"},{hiragana:"ゆ",katakana:"ユ",romaji:"yu",status:"gray"},{hiragana:"よ",katakana:"ヨ",romaji:"yo",status:"gray"},{hiragana:"ら",katakana:"ラ",romaji:"ra",status:"gray"},{hiragana:"り",katakana:"リ",romaji:"ri",status:"gray"},{hiragana:"る",katakana:"ル",romaji:"ru",status:"gray"},{hiragana:"れ",katakana:"レ",romaji:"re",status:"gray"},{hiragana:"ろ",katakana:"ロ",romaji:"ro",status:"gray"},{hiragana:"わ",katakana:"ワ",romaji:"wa",status:"gray"},{hiragana:"を",katakana:"ヲ",romaji:"wo",status:"gray"},{hiragana:"が",katakana:"ガ",romaji:"ga",status:"gray"},{hiragana:"ぎ",katakana:"ギ",romaji:"gi",status:"gray"},{hiragana:"ぐ",katakana:"グ",romaji:"gu",status:"gray"},{hiragana:"げ",katakana:"ゲ",romaji:"ge",status:"gray"},{hiragana:"ご",katakana:"ゴ",romaji:"go",status:"gray"},{hiragana:"ざ",katakana:"ザ",romaji:"za",status:"gray"},{hiragana:"じ",katakana:"ジ",romaji:"ji",status:"gray"},{hiragana:"ず",katakana:"ズ",romaji:"zu",status:"gray"},{hiragana:"ぜ",katakana:"ゼ",romaji:"ze",status:"gray"},{hiragana:"ぞ",katakana:"ゾ",romaji:"zo",status:"gray"},{hiragana:"だ",katakana:"ダ",romaji:"da",status:"gray"},{hiragana:"ぢ",katakana:"ヂ",romaji:"ji",status:"gray"},{hiragana:"づ",katakana:"ヅ",romaji:"zu",status:"gray"},{hiragana:"で",katakana:"デ",romaji:"de",status:"gray"},{hiragana:"ど",katakana:"ド",romaji:"do",status:"gray"},{hiragana:"ば",katakana:"バ",romaji:"ba",status:"gray"},{hiragana:"び",katakana:"ビ",romaji:"bi",status:"gray"},{hiragana:"ぶ",katakana:"ブ",romaji:"bu",status:"gray"},{hiragana:"べ",katakana:"ベ",romaji:"be",status:"gray"},{hiragana:"ぼ",katakana:"ボ",romaji:"bo",status:"gray"},{hiragana:"ぱ",katakana:"パ",romaji:"pa",status:"gray"},{hiragana:"ぴ",katakana:"ﾋﾟ",romaji:"pi",status:"gray"},{hiragana:"ぷ",katakana:"ﾌﾟ",romaji:"pu",status:"gray"},{hiragana:"ぺ",katakana:"ペ",romaji:"pe",status:"gray"},{hiragana:"ぽ",katakana:"ポ",romaji:"po",status:"gray"}]}}},A=r(89);const _=(0,A.Z)(b,[["render",v]]);var T=_}}]);
//# sourceMappingURL=901.f9723b7a.js.map