{"version":3,"file":"js/698.445512cc.js","mappings":"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","sources":["webpack://estiag/./src/views/PenbeatPlayer.vue","webpack://estiag/./src/components/penbeatBook.js","webpack://estiag/./src/views/PenbeatPlayer.vue?4fd3"],"sourcesContent":["<template>\n  <div id=\"page-content\" class=\"header-static\">\n    <div class=\"container\">\n      <div class=\"row padding-onlytop-lg center\">\n        <div class=\"right-label\">右</div>\n        <div class=\"left-label\">左</div>\n\n        <div class=\"window\">\n          <div class=\"right\" ref=\"rightDiv\" :class=\"{disabled:!rightSwitch}\">\n            <div class=\"bar\" v-for=\"(bar,indexBar) in right\" :key=\"indexBar\">\n              <div\n                class=\"beat\"\n                v-for=\"(beat,indexBeat) in bar\"\n                :key=\"indexBeat\"\n                v-bind:class=\"{used:isRightUsed(indexBeat+indexBar*barSize)}\"\n              >{{ beat }}</div>\n            </div>\n          </div>\n          <div class=\"left\" ref=\"leftDiv\" :class=\"{disabled:!leftSwitch}\">\n            <div class=\"bar\" v-for=\"(bar,indexBar) in left\" :key=\"indexBar\">\n              <div\n                class=\"beat\"\n                v-for=\"(beat,indexBeat) in bar\"\n                :key=\"indexBeat\"\n                v-bind:class=\"{used:isLeftUsed(indexBeat+indexBar*barSize)}\"\n              >{{ beat }}</div>\n            </div>\n          </div>\n        </div>\n      </div>\n      <div class=\"row padding-onlytop-lg center\">\n        <input @click=\"play\" class=\"btn-alt active\" type=\"button\" value=\"播放\" />\n        <input @click=\"stop\" class=\"btn-alt active\" type=\"button\" value=\"暂停\" />\n\n        <input @click=\"restart\" class=\"btn-alt active\" type=\"button\" value=\"重新开始\" />\n        <input @click=\"play1(500)\" class=\"btn-alt active\" type=\"button\" value=\"1\" />\n        <input @click=\"play2(500)\" class=\"btn-alt active\" type=\"button\" value=\"2\" />\n        <input @click=\"play3(500)\" class=\"btn-alt active\" type=\"button\" value=\"3\" />\n        <input @click=\"play4(500)\" class=\"btn-alt active\" type=\"button\" value=\"4\" />\n        BPM:\n        <input type=\"number\" v-model=\"bpm\" />\n        <input id=\"left\" class type=\"checkbox\" v-model=\"leftSwitch\" />\n        <label for=\"left\">左</label>\n        <input id=\"right\" class type=\"checkbox\" v-model=\"rightSwitch\" />\n        <label for=\"right\">右</label>\n        <input id=\"metronome\" class type=\"checkbox\" v-model=\"metronomeSwtich\" />\n        <label for=\"metronome\">节拍器</label>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { yellow } from '../components/penbeatBook.js'\n//定时器时间间隔ms\nconst timeInterval = 1\nconst musicBar = yellow\nlet rightAnimation = ''\nlet leftAnimation = ''\nlet beatWidth = 80\n// 创建 AudioContext 对象\nconst audioContext = new (window.AudioContext || window.webkitAudioContext)()\n// 创建 GainNode 对象，用于控制音量\nconst gainNode = audioContext.createGain()\n// 设置 GainNode 的音量\ngainNode.gain.value = 0.2\nexport default {\n  data: function () {\n    return {\n      leftSwitch: true,\n      rightSwitch: true,\n      metronomeSwtich: false,\n      bpm: musicBar.bpm,\n      right: musicBar.right,\n      left: musicBar.left,\n      leftBeatOffset: beatWidth / 2,\n      rightBeatOffset: 0,\n      barSize: musicBar.right[0].length,\n      beatWidth: beatWidth,\n      running: false,\n    }\n  },\n  watch: {},\n  computed: {},\n  mounted: function () {},\n  methods: {\n    isLeftUsed: function (index) {\n      return Math.ceil(-this.leftBeatOffset / this.beatWidth) >= index + 1\n    },\n    isRightUsed: function (index) {\n      return Math.ceil(-this.rightBeatOffset / this.beatWidth) >= index + 1\n    },\n    playSingleBeat: function (beat) {\n      let vm = this\n      let beats = beat.split(' ')\n      let duration = 60000 / this.bpm / beats.length\n      let step = duration / beats.length\n      for (let i = 0; i < beats.length; i++) {\n        let subBeatStep = step / (beats[i] + '').length\n        for (let j = 0; j < (beats[i] + '').length; j++) {\n          let subBeat = (beats[i] + '').split('')[j]\n          setTimeout(function () {\n            if (subBeat == 0) {\n              vm.play0(subBeatStep)\n            } else if (subBeat == 1) {\n              vm.play1(subBeatStep)\n            } else if (subBeat == 2) {\n              vm.play2(subBeatStep)\n            } else if (subBeat == 3) {\n              vm.play3(subBeatStep)\n            } else if (subBeat == 4) {\n              vm.play4(subBeatStep)\n            }\n          }, subBeatStep * (i + j))\n        }\n      }\n    },\n    playSinWave: function (frequency, duration) {\n      // 创建 OscillatorNode 对象，用于生成正弦波\n      const oscillator = audioContext.createOscillator()\n      // 设置正弦波的频率和类型\n      oscillator.frequency.value = frequency // 频率为 3000 Hz\n      oscillator.type = 'triangle' // 类型为三角波\n      // 将 OscillatorNode 对象连接到 GainNode 对象\n      oscillator.connect(gainNode)\n      // 将 GainNode 对象连接到 AudioContext 的 destination\n      gainNode.connect(audioContext.destination)\n      // 开始播放正弦波\n      oscillator.start()\n      // 停止播放正弦波\n      setTimeout(() => {\n        oscillator.stop()\n      }, duration)\n    },\n    play0: function (duration) {\n      //do nothing\n    },\n    play1: function (duration) {\n      this.playSinWave(120, duration)\n    },\n    play2: function (duration) {\n      this.playSinWave(150, duration)\n    },\n    play3: function (duration) {\n      this.playSinWave(200, duration)\n    },\n    play4: function (duration) {\n      this.playSinWave(250, duration)\n    },\n    stop: function () {\n      this.running = false\n      window.cancelAnimationFrame(rightAnimation)\n      window.cancelAnimationFrame(leftAnimation)\n    },\n    restart: function () {\n      this.stop()\n      this.rightBeatOffset = 0\n      this.leftBeatOffset = beatWidth / 2\n      this.$refs.rightDiv.style.left = this.rightBeatOffset + 'px'\n      this.$refs.leftDiv.style.left = this.leftBeatOffset + 'px'\n    },\n    play: function () {\n      if (this.running) {\n        return\n      }\n      let vm = this\n      let leftStartTimestamp,\n        rightStartTimestamp,\n        leftPreviousTimestamp,\n        rightPreviousTimestamp\n      let leftLastBeatIndex = -1\n      let rightLastBeatIndex = -1\n      //歌曲总时长(ms)\n      let rightAnimate = function (timestamp) {\n        //移动速度(px/ms)\n        let speed = ((vm.bpm * timeInterval) / 60000) * vm.beatWidth\n        if (!rightStartTimestamp) {\n          rightStartTimestamp = timestamp\n          rightPreviousTimestamp = timestamp\n        }\n        let elapsed = timestamp - rightStartTimestamp\n        //判断是否需要演奏音符\n        if (\n          vm.rightSwitch &&\n          rightLastBeatIndex < Math.floor(elapsed / (60000 / vm.bpm))\n        ) {\n          //演奏\n          rightLastBeatIndex++\n\n          vm.playSingleBeat(\n            vm.right[Math.floor(rightLastBeatIndex / vm.barSize)][\n              rightLastBeatIndex % vm.barSize\n            ]\n          )\n        }\n        if (\n          !(vm.rightBeatOffset <= -(vm.right.flat(2).length - 1) * vm.beatWidth)\n        ) {\n          //需要继续演奏\n          vm.rightBeatOffset =\n            vm.rightBeatOffset - speed * (timestamp - rightPreviousTimestamp)\n          vm.$refs.rightDiv.style.left = vm.rightBeatOffset + 'px'\n          rightPreviousTimestamp = timestamp\n          rightAnimation = window.requestAnimationFrame(rightAnimate)\n        }\n      }\n      let leftAnimate = function (timestamp) {\n        //移动速度(px/ms)\n        let speed = ((vm.bpm * timeInterval) / 60000) * vm.beatWidth\n        if (!leftStartTimestamp) {\n          leftStartTimestamp = timestamp\n          leftPreviousTimestamp = timestamp\n        }\n        let elapsed = timestamp - leftStartTimestamp\n        //判断是否需要演奏音符\n        if (\n          vm.leftSwitch &&\n          leftLastBeatIndex < Math.floor(elapsed / (60000 / vm.bpm))\n        ) {\n          //演奏\n          leftLastBeatIndex++\n\n          vm.playSingleBeat(\n            vm.left[Math.floor(leftLastBeatIndex / vm.barSize)][\n              leftLastBeatIndex % vm.barSize\n            ]\n          )\n        }\n        if (\n          !(vm.leftBeatOffset <= -(vm.left.flat(2).length - 1) * vm.beatWidth)\n        ) {\n          vm.leftBeatOffset =\n            vm.leftBeatOffset - speed * (timestamp - leftPreviousTimestamp)\n          vm.$refs.leftDiv.style.left = vm.leftBeatOffset + 'px'\n          leftPreviousTimestamp = timestamp\n          leftAnimation = window.requestAnimationFrame(leftAnimate)\n        }\n      }\n\n      window.requestAnimationFrame(rightAnimate)\n      window.requestAnimationFrame(leftAnimate)\n      vm.running = true\n    },\n  },\n}\n</script>\n<style scoped>\n.window {\n  width: 80%;\n  height: 200px;\n  display: inline-block;\n  overflow: hidden;\n  box-shadow: inset -1px 0px 6px 1px #e7e7e7;\n}\n\n.right,\n.left {\n  height: 100px;\n  white-space: nowrap;\n  position: relative;\n}\n\n.left {\n  left: 40px;\n}\n\n.bar {\n  display: inline-block;\n  height: 100px;\n}\n\n.beat {\n  display: inline-block;\n  height: 100px;\n  line-height: 100px;\n  width: 80px;\n  color: white;\n  background-color: #3367d6;\n  box-shadow: -2px 3px 10px 2px #1e3d80;\n}\n\n.used {\n  background-color: #8bc97c;\n  color: white;\n  box-shadow: none;\n}\n\n.disabled {\n  filter: grayscale(1);\n}\n\n.left-label {\n  display: inline-block;\n  position: relative;\n  left: -30px;\n  top: -47px;\n}\n\n.right-label {\n  display: inline-block;\n  position: relative;\n  left: -15px;\n  top: -146px;\n}\n</style>\n\n","/**\n * 每个数组的第一层次是小节，每小节的字符串是拍子，拍子中如果两个数字连起来\n *  意味着连打\n */\nconst yellow = {\n  right: [\n    ['1 1', '1 1', '1 1', '1 1'], ['1 1', '1 1', '1 1', '1 1'],\n    ['1 0', '1 0', '1 0', '1 0'], ['1 0', '1 0', '1 0', '1 0'],\n    ['1 0', '1 0', '1 0', '1 0'], ['1 0', '1 0', '1 0', '1 0'],\n    ['1 0', '1 0', '1 0', '1 0'], ['1 0', '1 0', '1 0', '1 0'],\n    ['1 0', '1 2', '1 2', '1 2'], ['1 2', '1 2', '1 2', '1 22'],\n  ],\n  left: [\n    ['0 0', '0 0', '0 0', '0 0'], ['0 0', '0 0', '0 0', '0 0'],\n    ['0 0', '0 0', '0 0', '0 0'], ['0 0', '0 0', '0 0', '0 0'],\n    ['0 0', '0 0', '0 0', '0 0'], ['0 0', '0 0', '0 0', '0 0'],\n    ['0 0', '0 0', '0 0', '0 0'], ['0 0', '0 0', '0 0', '0 0'],\n    ['0 0', '0 2', '0 2', '2 2'], ['0 0', '0 2', '2 2', '2 2 2'],\n\n  ],\n  bpm: 118\n}\nexport { yellow }","import { render } from \"./PenbeatPlayer.vue?vue&type=template&id=2f019e15&scoped=true\"\nimport script from \"./PenbeatPlayer.vue?vue&type=script&lang=js\"\nexport * from \"./PenbeatPlayer.vue?vue&type=script&lang=js\"\n\nimport \"./PenbeatPlayer.vue?vue&type=style&index=0&id=2f019e15&scoped=true&lang=css\"\n\nimport exportComponent from \"E:\\\\workspace\\\\playground\\\\estiag\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-2f019e15\"]])\n\nexport default __exports__"],"names":["id","class","_createElementVNode","for","_createElementBlock","_hoisted_4","_hoisted_5","disabled","_ctx","ref","_Fragment","_renderList","bar","indexBar","key","beat","indexBeat","used","$options","onClick","type","value","$event","_hoisted_9","_hoisted_10","_hoisted_11","yellow","right","left","bpm","timeInterval","musicBar","rightAnimation","leftAnimation","beatWidth","audioContext","window","AudioContext","webkitAudioContext","gainNode","createGain","gain","data","leftSwitch","rightSwitch","metronomeSwtich","leftBeatOffset","rightBeatOffset","barSize","length","running","watch","computed","mounted","methods","isLeftUsed","index","Math","ceil","this","isRightUsed","playSingleBeat","vm","beats","split","duration","step","i","subBeatStep","j","subBeat","setTimeout","play0","play1","play2","play3","play4","playSinWave","frequency","oscillator","createOscillator","connect","destination","start","stop","cancelAnimationFrame","restart","$refs","rightDiv","style","leftDiv","play","leftStartTimestamp","rightStartTimestamp","leftPreviousTimestamp","rightPreviousTimestamp","leftLastBeatIndex","rightLastBeatIndex","rightAnimate","timestamp","speed","elapsed","floor","flat","requestAnimationFrame","leftAnimate","__exports__","render"],"sourceRoot":""}